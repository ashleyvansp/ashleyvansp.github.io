<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Git Hooks</title>
        <meta name="description" content="What are hooks?">
        <link rel="canonical" href="/git-hooks">

    <!-- Site Favicon -->
    <link rel="shortcut icon" href="/assets/images/favicon.ico" type="image/png" />

    <!-- Font Embed Code -->
	<link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,400i,600,600i|Karla:400,400i,700,700i" rel="stylesheet">

    <!-- CSS Styles -->
    <link href="/assets/css/style.css" rel="stylesheet">
</head>



<body class="layout-post">
    <div id="page" class="site">
        <header id="masthead" class="site-header">
    <div class="site-header-wrap">
        <div class="site-header-inside">

            <div class="site-branding">
                
                <p class="profile">
                    <a href="/">
                        <img src="/assets/images/authorimage_back.jpg" alt="'s Picture"
                            class="avatar" />
                    </a>
                </p>
                <div class="site-identity">
                    
                    <h1 class="site-title">
                        <a href="/">Ashley Van Spankeren</a>
                    </h1>
                    
                    
                </div><!-- .site-identity -->
                
                <button id="menu-toggle" class="menu-toggle"><span class="screen-reader-text">Main Menu</span><span
                        class="icon-menu" aria-hidden="true"></span></button>
            </div><!-- .site-branding -->

            <nav id="main-navigation" class="site-navigation" aria-label="Main Navigation">
                <div class="site-nav-wrap">
                    <div class="site-nav-inside">
                    <ul class="menu">
                        
                        
                        
                        <li class="menu-item "><a href="/">Home</a></li>
                        
                        
                        
                        <li class="menu-item "><a href="/about">About</a></li>
                        
                        
                        
                        <li class="menu-item "><a href="/curriculum-vitae">Curriculum Vitae</a></li>
                        
                        
                        
                        <li class="menu-item "><a href="/contact">Contact</a></li>
                        
                    </ul>
                    <p class="social-links">
    
    <a href="mailto:ashleyvansp@gmail.com" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></svg>
<!--
Font Awesome Free 5.5.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
-->
    </a>
    
    
    <a href="https://github.com/ashleyvansp" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
<!--
Font Awesome Free 5.5.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
-->
    </a>
    
    
    <a href="https://www.linkedin.com/in/ashleyvansp" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
<!--
Font Awesome Free 5.5.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
-->
    </a>
    
</p>
                    </div><!-- .site-nav-inside -->
                </div><!-- .site-nav-wrap -->
            </nav><!-- .site-navigation -->

        </div><!-- .site-header-inside -->
    </div><!-- .site-header-wrap -->
</header><!-- .site-header -->
        <div id="content" class="site-content fadeInDown delay_075s">
            <div class="inner-wide">
                <main id="main" class="site-main">

    <article class="post-full inner">

        <header class="post-header">
            <div class="post-meta">
                <time class="post-date" datetime="2021-02-16">
                    February 16, 2021
                </time>
            </div><!-- .post-meta -->
            <h1 class="post-title">Git Hooks</h1>
            
            <p class="post-tags">
                <a href="/tags/index.html#Git"
                    rel="tag">Git</a>
                <a href="/tags/index.html#How-To"
                    rel="tag">How-To</a>
                
            </p>
            
        </header><!-- .post-header -->

        
        <div class="post-thumbnail">
            <img src="assets/images/posts/2021/hooks.png" alt="Git Hooks">
        </div>
        
        <div class="post-content">
            <h3 id="what-are-hooks">What are hooks?</h3>

<p>Hooks are scripts that Git executes automatically when triggered by events such as a commit or a push. The samples provided by Git are Bash shell scripts, but they can be written in any scripting language that can be run as an executable. Hooks can be powerful tools with a wide range of functionality, including but not limited to:</p>
<ul>
  <li>Code formatting such as following naming conventions and checking for trailing whitespace</li>
  <li>Alerts for unreachable code or uninitialized variables</li>
  <li>Running unit testing suites</li>
  <li>Sending email notifications when the repository is updated</li>
</ul>

<h3 id="how-are-they-activated">How are they activated?</h3>
<p>Thinking about a continuous integration workflow, we see that different tasks for a hook make sense at different places. For instance, if you want a hook that ensures commit messages are capitalized, you would want it to execute immediately after the user enters the commit message. With this in mind, Git has identified the 12 possible places in the workflow where a hook can execute and these are specified by the name of the file in the hooks directory. Git also provides a sample script for each of the 12 hooks, and they are activated by removing <code class="language-plaintext highlighter-rouge">.sample</code> from the name.</p>

<h3 id="whats-the-catch">What’s the <em>catch</em>?</h3>
<p>The main caveat for team-based projects is that hooks are local to a Git repository and they are not copied over to the new repository after running <code class="language-plaintext highlighter-rouge">git clone</code>. They also aren’t included under version control, so it can be challenging to keep them synchronized between team members. However, there are ways to regulate this: hook scripts can be stored in the project directory and installed with either a symlink or a simple copy-paste after the project is cloned.</p>

<h3 id="client-side-vs-server-side">Client-side vs. server-side</h3>
<p>Client-side hooks can best be used for commit-related tasks - such as formatting code or commit messages - and notification tasks such as emailing collaborators when changes are made. There’s also functionality with checking out or merging.<br />
Since client-side hooks can be modified (or even removed) by the developer in their local repository, they can’t be used to enforce coding standards, only to facilitate good coding practices. However, server-side hooks can be a safeguard against the rebellious developer by rejecting any commits that do not meet specified standards. This is the primary purpose of server-side hooks and they’re most useful on large projects to regulate who is allowed to push to the repo, the format of the commit message, or the changes contained in the commit.</p>

<h3 id="a-simple-example">A simple example</h3>
<p>Suppose your company suspects that their rivals are sneaking into your office in the shadow of night and forging bad commits on employees’ computers. To defend against this, the obvious thing to do is add a secret password before allowing commits.<br />
For the acute learner, it may be important to note that while the rivals excel in espionage, they lack the technical expertise to understand how hooks work and hence we can add client-side hooks without worrying that they will be disabled.<br />
We add the following hook to the folder <code class="language-plaintext highlighter-rouge">.git/hooks</code> under the name <code class="language-plaintext highlighter-rouge">pre-commit</code>:</p>
<pre><code class="language-py">#!/usr/local/bin/python3
  
import sys

if __name__ == '__main__':
    sys.stdin = open("/dev/tty", "r")
    inp = input("What\'s the secret password?\n")
    if inp == 'CodingRox':
        print('Password correct.')
        exit(0)
    else:
        print('Password denied.')
        exit(1)</code></pre>
<p>Then after making changes, we can see the effects of our security measures as follows:</p>
<figure>
    <img src="/assets/images/posts/2021/git_hooks.png" alt="Git commit" />
    
        <figcaption class="caption-text">Performing a commit with a pre-commit hook.</figcaption> 
    
</figure>


        </div>
    </article>
    <section class="read-next inner">
        <h2 class="read-next-title">Read Next</h2>
        
        <article class="post">
            <header class="post-header">
                <div class="post-meta">
                    <time class="published" datetime="February 2, 2021">February 2, 2021</time>
                </div>
                <h3 class="post-title"><a href="/wtf-is-mvvm">WTF is MVVM</a>
                </h3>
                <p class="post-tags">
                    
                    
                    
                    <a href='/tag/co-op/'>Co-op</a>
                    
                    
                    
                    <a href='/tag/internship/'>Internship</a>
                    
                    
                    
                    <a href='/tag/tips/'>Tips</a>
                    
                    
                    
                </p>
            </header>
        </article>
        
        
        <article class="post">
            <header class="post-header">
                <div class="post-meta">
                    <time class="published" datetime="April 18, 2021">April 18, 2021</time>
                </div>
                <h3 class="post-title"><a href="/lets-get-virtual">♪ Let's Get Virtual! ♪</a></h3>
                <p class="post-tags">
                    
                    
                    
                    <a href='/tag/vm/'>Vm</a>
                    
                    
                    
                    <a href='/tag/how-to/'>How-to</a>
                    
                    
                    
                    <a href='/tag/virtualization/'>Virtualization</a>
                    
                    
                    
                </p>
            </header>
        </article>
        
    </section><!-- .read-next -->

    <!-- Create a sorted array of tags -->
     
    <section class="tagcloud inner">
        <h2 class="tagcloud-title">Tags</h2>
        <div class="tag-links">
            
            <a href='/tags/#Co-op'>Co-op</a>
            
            <a href='/tags/#Git'>Git</a>
            
            <a href='/tags/#How-To'>How-To</a>
            
            <a href='/tags/#Internship'>Internship</a>
            
            <a href='/tags/#Tips'>Tips</a>
            
            <a href='/tags/#VM'>VM</a>
            
            <a href='/tags/#Virtualization'>Virtualization</a>
            
        </div><!-- .tag-links -->
    </section><!-- .tagcloud -->

</main><!-- .site-main -->

                
                <footer id="colophon" class="site-footer">
    <p class="site-info inner">
        <img src="/assets/images/favicon.ico" alt="Italian Trulli">
        <a href="#">Ashley Van Spankeren</a> &copy; 2021.
    </p>
    <a id="back-to-top" class="back-to-top" href="#page">
        <span class="icon-arrow-up" aria-hidden="true"></span>
        <span class="screen-reader-text">Back to top</span>
    </a>
</footer><!-- .site-footer -->
            </div><!-- .inner-wide -->
        </div><!-- .site-content -->
    </div><!-- .site -->

    <!-- Javascript Assets -->
    <script src="/assets/js/jquery-3.3.1.min.js"></script>
    <script src="/assets/js/plugins.js"></script>
    <script src="/assets/js/custom.js"></script>

</body>

</html>